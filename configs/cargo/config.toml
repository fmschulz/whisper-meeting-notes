# Cargo Configuration
# Source of truth: ~/arch-hyprland-setup/configs/cargo/config.toml
# Deploy to: ~/.cargo/config.toml

# Use mold linker for significantly faster linking (10-20x faster than ld)
[target.x86_64-unknown-linux-gnu]
linker = "clang"
rustflags = ["-C", "link-arg=-fuse-ld=mold"]

# Enable sccache for faster incremental builds
[build]
rustc-wrapper = "sccache"

# Parallel compilation
[build]
jobs = 0  # Use all available cores

# Registry configuration
[registries.crates-io]
protocol = "sparse"  # Faster crate downloads

# Network settings
[net]
git-fetch-with-cli = true
retry = 3

# Faster builds in dev mode
[profile.dev]
opt-level = 0
debug = true

# Release builds with LTO for smaller binaries
[profile.release]
lto = "thin"
codegen-units = 1
strip = true
